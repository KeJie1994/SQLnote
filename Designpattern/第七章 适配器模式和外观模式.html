<html>
<head>
  <title>第七章 适配器模式和外观模式</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307027 (zh-CN, DDL); Windows/6.1.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1454"/>
<h1>第七章 适配器模式和外观模式</h1>

<div>
<span><div>第七章 适配器模式和外观模式</div><div><br/></div><div>1.适配器模式的作用：将一个接口转换为另一个接口，可以比喻为一个插座的转换头</div><div><br/></div><div>2.定义两个东西</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>//一个是鸭子</div><div>public interface Duck</div><div>{</div><div>    public void quack();</div><div>    public void fly();</div><div>}</div><div>//一个是火鸡</div><div>publuc interface Turkey</div><div>{</div><div>    public void gobble();</div><div>    public void fly();</div><div>}</div><div>//我们要做的是让火鸡去冒充鸭子，必须把火鸡的一些能力映射到鸭子具有的一些能力中去，采用负责处理这样映射的类--适配器类</div><div>public class TurkeyAdapter implements Duck</div><div>{</div><div>    Turkey turkey;</div><div>    public TurkeyAdapter(Turkey turkey)</div><div>    {</div><div>        this.turkey=turkey;</div><div>    }</div><div>    public void quack()</div><div>    {</div><div>        turkey.gobble();</div><div>    }</div><div>    public void fly()</div><div>    {</div><div>        turkey.fly();</div><div>    }</div><div>}</div><div>这样设计提现了良好的OO设计原则：使用对象组合，包装被适配者。通过接口进行组合将两者绑定起来，而不是实现--这就是一个对象适配器的设计观念。</div><div><br/></div></div><div><br/></div><div>3.类适配器：使用了继承的方法，多重继承了被适配者(火鸡)和目标适配者(鸭子)</div><div>  特点：只在需要的时候使用覆盖来实现一些方法，可以直接使用继承，更加具有效率。</div><div>  </div><div>  对象适配者：实现了鸭子的接口，杂具体调用时通过内部的火鸡成员变量提供具体真实的能力。</div><div>  特点：不仅能适配某一个类，而且还可以适配该类的任意子类，另外实现的方法可以由多个方法搭配完成，具有弹性。</div><div><br/></div><div>4 装饰者模式和适配器模式对比</div><div>装饰者模式需要一些新的行为或者责任加入到设计中，并且动态的进行添加处理。</div><div>适配器莫模式需要将一个能力转换另一个能力，静态敲定了一些能力。</div><div>适配器模式芝士装饰者模式的一个变体，装饰者是改变接口而扩展对象的行为或者职责，而适配器则是为了转换包装对象的行为来改变接口。</div><div><br/></div><div>5.外观模式：目的是简化接口</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">public class HomeTheaterFacade </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">{ </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    Amplifier amp; </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    Tuner tuner; </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    DvdPlayer dvd; </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    CdPlayer cd; </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    Projector projector; </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    TheaterLights lights; </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    Screen screen; </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    PopcornPopper popper; </span></div><div><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    public HomeTheaterFacade(Amplifier amp,</span><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"> </span></div><div><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                 Tuner tuner,</span><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"> </span></div><div><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                 DvdPlayer dvd,</span><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"> </span></div><div><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                 CdPlayer cd,</span><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"> </span></div><div><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                 Projector projector,</span><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"> </span></div><div><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                 Screen screen,</span><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"> </span></div><div><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                 TheaterLights lights,</span><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"> </span></div><div><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                 PopcornPopper popper) </span></div><div><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     {</span><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"> </span></div><div><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        this.amp = amp;</span><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"> </span></div><div><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        this.tuner = tuner;</span><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"> </span></div><div><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        this.dvd = dvd;</span><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"> </span></div><div><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        this.cd = cd;</span><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"> </span></div><div><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        this.projector = projector;</span><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"> </span></div><div><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        this.screen = screen;</span><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"> </span></div><div><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        this.lights = lights;</span><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"> </span></div><div><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        this.popper = popper;</span><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"> </span></div><div><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    }//将每一个组件的引用传入该对象中</span><span style="font-weight: bold; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"> </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    public void watchMovie(String movie)</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">   { </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        System.out.println(&quot;Get ready to watch a movie...&quot;); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        popper.on(); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        popper.pop(); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        lights.dim(10); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        screen.down(); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        projector.on(); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        projector.wideScreenMode(); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        amp.on(); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        amp.setDvd(dvd); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        amp.setSurroundSound(); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        amp.setVolume(5); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        dvd.on(); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        dvd.play(movie); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    } </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    public void endMovie() </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">   { </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        System.out.println(&quot;Shutting movie theater down...&quot;); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        popper.off(); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        lights.on(); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        screen.up(); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        projector.off(); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        amp.off(); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        dvd.stop(); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        dvd.eject(); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        dvd.off(); </span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);-en-paragraph:true;">    }</span></div><p style="margin: 10px auto; padding: 0px; text-indent: 0px; color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"></p><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    public void listenToCd(String cdTitle) </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span>    </span>{ </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        System.out.println(&quot;Get ready for an audiopile experence...&quot;); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        lights.on(); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        amp.on(); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        amp.setVolume(5); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        amp.setCd(cd); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        amp.setStereoSound(); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        cd.on(); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        cd.play(cdTitle); </span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);-en-paragraph:true;">    }</span></div><p style="margin: 10px auto; padding: 0px; text-indent: 0px; color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"></p><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    public void endCd() </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">   { </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        System.out.println(&quot;Shutting down CD...&quot;); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        amp.off(); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        amp.setCd(cd); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        cd.eject(); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        cd.off(); </span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);-en-paragraph:true;">    }</span></div><p style="margin: 10px auto; padding: 0px; text-indent: 0px; color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"></p><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    public void listenToRadio(double frequency) </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">   { </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        System.out.println(&quot;Tuning in the airwaves...&quot;); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        tuner.on(); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        tuner.setFrequency(frequency); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        amp.on(); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        amp.setVolume(5); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        amp.setTuner(tuner); </span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);-en-paragraph:true;">    }</span></div><p style="margin: 10px auto; padding: 0px; text-indent: 0px; color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"></p><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    public void endRadio() </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">   { </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        System.out.println(&quot;Shutting down the tuner...&quot;); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        tuner.off(); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        amp.off(); </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    } </span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);-en-paragraph:true;">}</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);-en-paragraph:true;"><br/></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);-en-paragraph:true;">//测试看一场电影</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);-en-paragraph:true;"><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">public class HomeTheaterTestDrive </span></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);-en-paragraph:true;"><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">{</span><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"> </span></span></div><div><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">    public static void main(String[] args)</span></div><div><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"> {</span><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"> </span></div><div><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">        Amplifier amp = new Amplifier(&quot;Top-O-Line Amplifier&quot;);</span><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"> </span></div><div><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">        Tuner tuner = new Tuner(&quot;Top-O-Line AM/FM Tuner&quot;, amp);</span><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"> </span></div><div><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">        DvdPlayer dvd = new DvdPlayer(&quot;Top-O-Line DVD Player&quot;, amp);</span><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"> </span></div><div><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">        CdPlayer cd = new CdPlayer(&quot;Top-O-Line CD Player&quot;, amp);</span><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"> </span></div><div><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">        Projector projector = new Projector(&quot;Top-O-Line Projector&quot;, dvd);</span><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"> </span></div><div><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">        TheaterLights lights = new TheaterLights(&quot;Theater Ceiling Lights&quot;);</span><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"> </span></div><div><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">        Screen screen = new Screen(&quot;Theater Screen&quot;);</span><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"> </span></div><div><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">        PopcornPopper popper = new PopcornPopper(&quot;Popcorn Popper&quot;);</span><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"> </span></div><div><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">        HomeTheaterFacade homeTheater =</span><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"> </span><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px;">new HomeTheaterFacade(amp, tuner, dvd, cd,</span><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; background-color: rgb(255, 255, 255);"> </span></div><div><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">                                                              projector, screen, lights, popper);</span><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"> </span></div><div><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">        homeTheater.watchMovie(&quot;Raiders of the Lost Ark&quot;);</span><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"> </span></div><div><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">        homeTheater.endMovie();</span><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"> </span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">    }</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);-en-paragraph:true;"><br/></span></div></div><div><br/></div><div>6.引入一个新的原则：</div><div><span>    最少知识原则：只和你的密友谈话，也就是说当你正在设计一个系统时不管是任何对象，你都要注意它所交互的类，并注意它和这些类是如何交互的，尽量减少类之间的依赖。</span><br/></div><div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>//一个不符合此规则的案例</div><div><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">public class House</span></div><div><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">{</span><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"> </span></div><div><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">    WeatherStation station;</span><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"> </span></div><div><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">    public float getTemp()</span></div><div><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">    {</span><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"> </span></div><div><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">        return station.getThermometer().getTemperature();</span><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"> </span></div><div><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">    }</span><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"> </span></div><div><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">}</span></div><div><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br/></span></div><div><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">//getTemp()设计到一个调用返回的对象，可以修改为：</span></div><div><span style="font-family: Verdana;">public class House</span></div><div><span style="font-family: Verdana;">{ </span></div><div><span style="font-family: Verdana;">    WeatherStation station; </span></div><div><span style="font-family: Verdana;">    public float getTemp()</span></div><div><span style="font-family: Verdana;">   { </span></div><div><span style="font-family: Verdana;">        Thermometer thermometer = station.getThermometer(); </span></div><div><span style="font-family: Verdana;">        return getTempHelper(thermometer); </span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: Verdana;-en-paragraph:true;">    }</span></div><p style="margin: 10px auto; padding: 0px; text-indent: 0px; color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"></p><div><span style="font-family: Verdana;">    public float getTemperHelp(Thermometer thermometer)</span></div><div><span style="font-family: Verdana;">   { </span></div><div><span style="font-family: Verdana;">        return thermometer.getTemperature(); </span></div><div><span style="font-family: Verdana;">    } </span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: Verdana;-en-paragraph:true;">}</span></div><div><span style="color: rgb(0, 0, 0); font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 13.92px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br/></span></div></div><br/></div><div><br/></div></span>
</div></body></html> 